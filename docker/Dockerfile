FROM blackjack777/ubuntu-apache-php7:1.1

########################################################################################################################
#### Configure Apache
########################################################################################################################
ADD ./template/vhost-application.conf /etc/apache2/sites-available/application.conf
RUN a2ensite application
RUN a2dissite 000-default

########################################################################################################################
### Set and overwrite default php settings
########################################################################################################################
COPY ./template/php.ini /etc/php/7.0/apache2/php.ini

########################################################################################################################
#### Configure xdebug extension
########################################################################################################################
COPY ./template/xdebug.ini /etc/php/7.0/mods-available/xdebug.ini

RUN apt-get update
RUN apt-get install -y php7.0-mbstring